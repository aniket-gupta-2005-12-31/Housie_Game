<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #game-container {
            text-align: center;
        }
        #chessboard {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            border: 2px solid black;
            margin: 20px auto;
        }
        .square {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .white {
            background-color: #f0d9b5;
        }
        .black {
            background-color: #b58863;
        }
        .highlight {
            outline: 2px solid yellow;
        }
        .piece {
            font-size: 2em;
            cursor: pointer;
        }
        #controls {
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Chess Game</h1>
        <div id="chessboard"></div>
        <div id="controls">
            <button id="playWithBot">Play with Bot</button>
            <button id="playWithFriend">Play with Friend</button>
            <button id="reset">Reset Game</button>
        </div>
    </div>

    <script>
        // Chess pieces with Unicode symbols
        const pieces = {
            white: {
                king: '♔', queen: '♕', rook: '♖', bishop: '♗', knight: '♘', pawn: '♙'
            },
            black: {
                king: '♚', queen: '♛', rook: '♜', bishop: '♝', knight: '♞', pawn: '♟'
            }
        };

        let chessboard = document.getElementById('chessboard');
        let currentPlayer = 'white'; // Current turn
        let selectedPiece = null;
        let gameState = []; // Array to track the state of the board

        // Create the chessboard
        function createChessboard() {
            chessboard.innerHTML = ''; // Clear existing board
            gameState = []; // Reset game state

            for (let row = 0; row < 8; row++) {
                let rowState = [];
                for (let col = 0; col < 8; col++) {
                    let square = document.createElement('div');
                    square.classList.add('square');
                    square.classList.add((row + col) % 2 === 0 ? 'white' : 'black');
                    square.dataset.row = row;
                    square.dataset.col = col;

                    chessboard.appendChild(square);
                    rowState.push(null);
                }
                gameState.push(rowState);
            }
        }

        // Initialize pieces on the board
        function initializePieces() {
            const initialSetup = [
                ['rook', 'knight', 'bishop', 'queen', 'king', 'bishop', 'knight', 'rook'],
                ['pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn'],
                [],
                [],
                [],
                [],
                ['pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn'],
                ['rook', 'knight', 'bishop', 'queen', 'king', 'bishop', 'knight', 'rook']
            ];

            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    if (initialSetup[row].length > 0) {
                        let pieceType = initialSetup[row][col];
                        let pieceColor = row < 2 ? 'black' : 'white';
                        placePiece(row, col, pieceType, pieceColor);
                    }
                }
            }
        }

        // Place a piece on the board
        function placePiece(row, col, type, color) {
            let square = document.querySelector(`.square[data-row='${row}'][data-col='${col}']`);
            square.innerHTML = `<span class="piece" data-color="${color}" data-type="${type}">${pieces[color][type]}</span>`;
            gameState[row][col] = { color, type };
        }

        // Highlight moves (for simplicity, this just highlights neighboring squares)
        function highlightMoves(row, col) {
            clearHighlights();

            let possibleMoves = [
                [row - 1, col], [row + 1, col], // Up and down
                [row, col - 1], [row, col + 1]  // Left and right
            ];

            possibleMoves.forEach(([r, c]) => {
                if (r >= 0 && r < 8 && c >= 0 && c < 8) {
                    let targetSquare = document.querySelector(`.square[data-row='${r}'][data-col='${c}']`);
                    targetSquare.classList.add('highlight');
                }
            });
        }

        // Clear highlighted squares
        function clearHighlights() {
            document.querySelectorAll('.square.highlight').forEach(square => {
                square.classList.remove('highlight');
            });
        }

        // Handle square click
        function handleSquareClick(event) {
            let square = event.target.closest('.square');
            if (!square) return;

            let row = parseInt(square.dataset.row);
            let col = parseInt(square.dataset.col);
            let piece = gameState[row][col];

            if (selectedPiece) {
                movePiece(selectedPiece.row, selectedPiece.col, row, col);
                selectedPiece = null;
                clearHighlights();
            } else if (piece && piece.color === currentPlayer) {
                selectedPiece = { row, col, piece };
                highlightMoves(row, col);
            }
        }

        // Move a piece
        function movePiece(fromRow, fromCol, toRow, toCol) {
            let piece = gameState[fromRow][fromCol];
            gameState[fromRow][fromCol] = null;
            gameState[toRow][toCol] = piece;

            // Update the DOM
            placePiece(toRow, toCol, piece.type, piece.color);
            let fromSquare = document.querySelector(`.square[data-row='${fromRow}'][data-col='${fromCol}']`);
            fromSquare.innerHTML = '';

            // Switch player turn
            currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
        }

        // Bot makes a random move
        function playWithBot() {
            alert('Bot mode coming soon!');
        }

        // Reset the game
        function resetGame() {
            createChessboard();
            initializePieces();
            currentPlayer = 'white';
        }

        // Event listeners
        chessboard.addEventListener('click', handleSquareClick);
        document.getElementById('playWithBot').addEventListener('click', playWithBot);
        document.getElementById('playWithFriend').addEventListener('click', () => alert('Play with a friend mode selected!'));
        document.getElementById('reset').addEventListener('click', resetGame);

        // Initialize the game
        createChessboard();
        initializePieces();
    </script>
</body>
</html>
